
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Welcome!">
    <meta name="keywords" content="software engineer, senior software engineer, node.js, node, javascript, robotics, viola jones, face detection, face recognition">
    <title>Contact - patil-rahuls.github.io</title>
    <link rel="stylesheet" href="/styles.css">
  </head>
   <body>
      <div class="wrapper">
         <aside>
            <ul id="menu"></ul>
            <div id="loading"></div>
         </aside>
         <article>
            <h1 id="heading">Contact me</h1>
            <div>
							<table class="fade-in">
								<tbody>
									<tr>
										<td>This will hardly take a minute !</td>
									</tr>
									<tr>
										<td>
											<div id='form'>
												<br>
												<span id='message'></span><br>
												<input type="text" placeholder="Email ID OR Phone No." id="contact"><br><br>
												<textarea style='height:100px;' placeholder="Your message" id="msg"></textarea><br><br>
												<button id="send">Send</button>
											</div>
										</td>
									</tr>
									<tr><td><br><hr></td></tr>
									<tr>
										<td>
											<a target="_blank" href="https://www.linkedin.com/in/patilrahuls/"><img src="assets/img/li.png" alt="https://www.linkedin.com/in/patilrahuls/"></a>
											&nbsp;&nbsp;&nbsp;&nbsp; <a target="_blank" href="https://www.youtube.com/c/RahulPatilS"><img src="assets/img/yt.png" alt="https://www.youtube.com/c/RahulPatilS"></a>
											&nbsp;&nbsp;&nbsp;&nbsp; <a target="_blank" href="https://www.facebook.com/patil.rahs"><img src="assets/img/fb.png" alt="https://www.facebook.com/patil.rahs"></a>
											&nbsp;&nbsp;&nbsp;&nbsp; <a target="_blank" href="https://stackoverflow.com/users/5190030/thundrstorm"><img src="assets/img/so.png" alt="https://stackoverflow.com/users/5190030/thundrstorm"></a>
											&nbsp;&nbsp;&nbsp;&nbsp; <a target="_blank" href="https://github.com/patil-rahuls"><img src="assets/img/github.png" alt="Github"></a>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</article>
			 </div>

			 <footer>
				<ul class="footer" style="list-style:none;">
				 <li>
						<a href="/contact" style="display:inline-block">contact</a>
						&nbsp;
						<a href="/privacy" style="display:inline-block">privacy</a>
						&nbsp;
						<div id="newsletter_form">
							 <button id="mobileMenuBtn">
								 <div class="hamburger">
										<span></span>
										<span></span>
										<span></span>
								</div>
							</button>
							 <!-- <button id="subscribe">Subscribe </button>
							 <input  id="newsletter" type="text" placeholder="for newsletter"> -->
						</div>
				 </li>
				</ul>

				<section id="mobileMenu" hidden="hidden">
					 <button id="closeMobileMenuBtn" title="Close">&#x2715;</button>
					 <ul id="mobileMenuList"></ul>
				</section>
		 </footer>

			 <script src="/config.js"></script>
			 <script src="/script.js"></script>
			 <script>
				const enc_contact = 'contact';
				const enc_msg = 'msg';
				const validateEmail = email => {
				const re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
					return re.test(email);
				};
				const validatePhone = phone => {
					const re = /^[0-9]+$/;
					return re.test(phone) && phone.length==10;
				};
				document.addEventListener("DOMContentLoaded", function() {
					document.querySelector("#send").addEventListener("click", function(){
						const message = document.querySelector('#message');
						message.style.display = 'block';
						message.classList = [];
						message.innerHTML = 'Please wait ...';
						const contactEl = document.querySelector("#"+enc_contact);
						contactEl.classList = '';
						const msgEl = document.querySelector("#"+enc_msg);
						msgEl.classList = '';
						const contact = contactEl.value.trim();
						const msg = msgEl.value.trim();
						let mob = false;
						let email = false;
						let msgF = false;
						let successResponse = 'Thanks for your message!';
						if(!isNaN(contact) && !validatePhone(contact)){
							message.classList.add('error');
							contactEl.classList.add('input-error');
							message.innerText = "Are you trying to enter your phone number?";
							return;
						} else if(!isNaN(contact) && validatePhone(contact)){
							mob = true;
						} else if(!mob && !validateEmail(contact)){
							message.classList.add('error');
							contactEl.classList.add('input-error');
							message.innerText = "Are you trying to enter your email ID? Please correct it !";
							return;
						} else if(!mob && validateEmail(contact)){
							email = true;
						}
						if(msg == '') {
							message.classList.add('error');
							msgEl.classList.add('input-error');
							message.innerText = "Please enter a message OR just type 'Hi'.";
							return;
						} else{
							msgF = true;
						}
						if(!msgF && !mob && !email){
							return;
						}
						if(msgF && (mob || email)) {
							message.classList = [];
							fetch(`https://docs.google.com/forms/d/e/1FAIpQLScqi5w-wusZyLaa9m2Z94dRDqKMDcw3tZK1ZCi7Tfapya6LfA/formResponse?usp=pp_url&entry.2005620554=${contact}&entry.1065046570=${msg}`
							,{"mode": "no-cors"})
							.then(response => response.text())
							.then(data => {
								// opaque response
								message.classList.add('success');
								message.innerText = successResponse;
								/*if(data.includes(successResponse)){
									message.classList.add('success');
									message.innerText = successResponse;
								} else {
									message.classList.add('error');
									message.innerText = "Something's not right! Would you like to try again?";
									console.log(data);
								}*/
							}).catch(error => {
								message.classList.add('error');
								message.innerText = "Something went wrong!";
								console.error('Error submitting contact form data:', error);
							});
						}
					});
				});
			 </script>
		</body>
 </html>
